<!DOCTYPE html>
<meta charset="utf-8">
<style>
  .slice text {
    font-size: 12px;
    font-family: sans-serif;
  }
  .slice path {
    fill-opacity: 0.7;
  }
</style>
<body>
  <svg width="300" height="300"></svg>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script>
    const data = [
      { name: "Apples", value: 20 },
      { name: "Oranges", value: 15 },
      { name: "Bananas", value: 10 },
      { name: "Berries", value: 5 }
    ];
    const width = 300,
          height = 300,
          radius = Math.min(width, height) / 2;
    
    // create a color scale
    // const color = d3.scaleOrdinal()
    //   .range(["#98abc5", "#8a89a6", "#7b6888", "#6b486b"]);
    // // create a random color scale
    const color = d3.scaleOrdinal(d3.schemeCategory10);
    
    
    // create an arc generator
    const arc = d3.arc()
      .innerRadius(radius * 0.5)
      .outerRadius(radius * 0.8);
    
    // create a pie generator
    const pie = d3.pie()
      .sort(null)
      .value(d => d.value);
    
    // create the SVG element and group elements for the chart
    const svg = d3.select("svg")
      .attr("viewBox", [-width / 2, -height / 2, width, height]);
    const g = svg.append("g");
    
    // generate the pie slices
    const slices = g.selectAll(".slice")
      .data(pie(data))
      .enter()
      .append("g")
        .attr("class", "slice");
    
    // add the slices to the chart
    slices.append("path")
      .attr("d", arc)
      .attr("fill", d => color(d.data.name));
    
    // add the slice labels to the chart
    slices.append("text")
      .attr("transform", d => `translate(${arc.centroid(d)})`)
      .attr("dy", "0.35em")
      .text(d => d.data.name);
  </script>
</body>
